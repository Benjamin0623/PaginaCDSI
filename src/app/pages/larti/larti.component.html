<router-outlet></router-outlet>
<div class="row">
  <div class="col-md-2">
    <div>
      <h2>Filtros</h2>
      <mat-form-field>
        <mat-select placeholder="Almacen" [(ngModel)]="almacen">
          <mat-option *ngFor="let a of ( almacenes$ | async )" [value]="a.idArinb.codigo">
            {{a.descripcion}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select placeholder="Precios" [(ngModel)]="tipo">
          <mat-option *ngFor="let t of ( tipos$ | async )" [value]="t.idArfa.tipo">
            {{t.descripcion}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select placeholder="Linea" [(ngModel)]="linea" (ngModelChange)="listarSubLineas()">
          <mat-option *ngFor="let l of ( lineas$ | async )" [value]="l.idLinea.codigo">
            {{l.descripcion}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select placeholder="Sub Linea" [(ngModel)]="sublinea" (ngModelChange)="listarFamilias()">
          <mat-option *ngFor="let s of ( sublineas$ | async )" [value]="s.idArinc.codigo">
            {{s.descripcion}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-select placeholder="Familia" [(ngModel)]="familia">
          <mat-option *ngFor="let f of ( familias$ | async )" [value]="f.idArfa.codigo">
            {{f.descripcion}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-divider></mat-divider>
      <div class="example-button-row">
        <button mat-raised-button (click)="filtrarData()">Buscar</button>
        <button mat-raised-button (click)="borrarFiltros()">Borrar</button>
      </div>
    </div>
  </div>

  <div class="col-md-10">
    <div class="example-container">
      <div class="example-header">
        <mat-form-field>
          <input matInput (keyup)="filtrar($event.target.value)" placeholder="Buscar Articulo">
        </mat-form-field>
      </div>
      <div class="example-table-container">
        <table mat-table [dataSource]="dataSource" class="example-table" matSort>

          <!-- Position Column -->
          <ng-container matColumnDef="idArti">
            <mat-header-cell *matHeaderCellDef mat-sort-header>ID</mat-header-cell>
            <mat-cell *matCellDef="let row">{{row.no_arti}}</mat-cell>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="descripcion">
            <mat-header-cell *matHeaderCellDef>Descripcion</mat-header-cell>
            <mat-cell *matCellDef="let row">{{row.descripcion}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="medida">
            <mat-header-cell *matHeaderCellDef>Medida</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.medida}} </mat-cell>
          </ng-container>

          <!-- Weight Column 
          <ng-container matColumnDef="catalogo">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Cat√°logo</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.tipo_arti}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="clase">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Clase</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.clase}} </mat-cell>
          </ng-container>
          <ng-container matColumnDef="categoria">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Categoria</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.categoria}} </mat-cell>
          </ng-container>
          <ng-container matColumnDef="familia">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Familia</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.familia}} </mat-cell>
          </ng-container>
-->
          <!-- Weight Column 
          <ng-container matColumnDef="marca">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Marca</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.marca}} </mat-cell>
          </ng-container>-->

          <!-- Weight Column -->
          <ng-container matColumnDef="precio">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Precio</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.precio | number:'1.00'}} </mat-cell>
          </ng-container>
          <!-- Weight Column -->
          <!--<ng-container matColumnDef="stock">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Stock</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.stock}} </mat-cell>
  </ng-container>-->

          <!-- Weight Column -->
          <ng-container matColumnDef="compromiso">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Compromiso</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.compromiso}} </mat-cell>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="disponible">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Disponible</mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row.stock - row.compromiso}} </mat-cell>
          </ng-container>
          <!--
  <ng-container matColumnDef="fecha">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{row.fecha | date :'short'}} </mat-cell>
  </ng-container> 
-->
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;">
          </mat-row>
        </table>

      </div>
      <mat-paginator [pageSize]="8" [pageSizeOptions]="[1, 5, 8]"></mat-paginator>
      <!--<mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="[1, 5, 8]" 
(page)="pageEvent = $event"></mat-paginator>
      <app-pagi-rgta1 *ngIf="paginador" [paginador]="paginador"></app-pagi-rgta1>-->
    </div>
  </div>
</div>